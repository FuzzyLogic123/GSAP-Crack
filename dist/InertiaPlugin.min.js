!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(t){"use strict";function e(){return a||"undefined"!=typeof window&&(a=window.gsap)}function n(t){return v(t).id}function i(t){return h[n("string"==typeof t?c(t)[0]:t)]}function r(t){var e,n=p;if(.05<=t-l)for(l=t;n;)((e=n.g(n.t,n.p))!==n.v1||.2<t-n.t1)&&(n.v2=n.v1,n.v1=e,n.t2=n.t1,n.t1=t),n=n._next}function o(){(a=e())&&(c=a.utils.toArray,f=a.utils.getUnit,v=a.core.getCache,g=a.ticker,u=1)}function s(t,e,n,i){this.t=t,this.p=e,this.g=t._gsap.get,this.rCap=d[n||f(this.g(t,e))],this.v1=this.v2=0,this.t1=this.t2=g.time,i&&((this._next=i)._prev=this)}var a,u,c,f,p,g,l,v,h={},d={deg:360,rad:2*Math.PI},_=function(){function t(t,e){u||o(),this.target=c(t)[0],(h[n(this.target)]=this)._props={},e&&this.add(e)}t.register=function t(e){a=e,o()};var e=t.prototype;return e.get=function t(e,n){var i,r,o,s=this._props[e]||console.warn("Not tracking "+e+" velocity.");return i=parseFloat(n?s.v1:s.g(s.t,s.p))-parseFloat(s.v2),(r=s.rCap)&&(i%=r)!=i%(r/2)&&(i=i<0?i+r:i-r),Math.round(1e4*(i/((n?s.t1:g.time)-s.t2)))/1e4},e.getAll=function t(){var e,n={},i=this._props;for(e in i)n[e]=this.get(e);return n},e.isTracking=function t(e){return e in this._props},e.add=function t(e,n){e in this._props||(p||(g.add(r),l=g.time),p=this._props[e]=new s(this.target,e,n,p))},e.remove=function t(e){var n,i,o=this._props[e];o&&(n=o._prev,i=o._next,n&&(n._next=i),i?i._prev=n:p===o&&(g.remove(r),p=0),delete this._props[e])},e.kill=function t(e){for(var i in this._props)this.remove(i);e||delete h[n(this.target)]},t.track=function e(n,r,s){u||o();for(var a,f,p=[],g=c(n),l=r.split(","),v=(s||"").split(","),h=g.length;h--;){for(a=i(g[h])||new t(g[h]),f=l.length;f--;)a.add(l[f],v[f]||v[0]);p.push(a)}return p},t.untrack=function t(e,n){var r=(n||"").split(",");c(e).forEach(function(t){var e=i(t);e&&(r.length?r.forEach(function(t){return e.remove(t)}):e.kill(1))})},t.isTracking=function t(e,n){var r=i(e);return r&&r.isTracking(n)},t.getVelocity=function t(e,n){var r=i(e);return r&&r.isTracking(n)?r.get(n):console.warn("Not tracking velocity of "+n)},t}();function $(){return j||"undefined"!=typeof window&&(j=window.gsap)&&j.registerPlugin&&j}function m(t){return"number"==typeof t}function y(t){return"object"==typeof t}function k(t){return"function"==typeof t}function x(t){return t}function w(t){return Math.round(1e4*t)/1e4}function T(t,e,n){for(var i in e)i in t||i===n||(t[i]=e[i]);return t}function P(t){var e,n,i={};for(e in t)i[e]=y(n=t[e])&&!L(n)?P(n):n;return i}function b(t,e,n,i,r){var o,s,a,u,c=e.length,f=0,p=Q;if(y(t)){for(;c--;){for(a in o=e[c],s=0,t)s+=(u=o[a]-t[a])*u;s<p&&(f=c,p=s)}if((r||Q)<Q&&r<Math.sqrt(p))return t}else for(;c--;)(s=(o=e[c])-t)<0&&(s=-s),s<p&&i<=o&&o<=n&&(f=c,p=s);return e[f]}function F(t,e,n,i,r,o,s){if("auto"===t.end)return t;var a,u,c=t.end;if(n=isNaN(n)?Q:n,i=isNaN(i)?-Q:i,y(e)){if(a=e.calculated?e:(k(c)?c(e,s):b(e,c,n,i,o))||e,!e.calculated){for(u in a)e[u]=a[u];e.calculated=!0}a=a[r]}else a=k(c)?c(e,s):L(c)?b(e,c,n,i,o):parseFloat(c);return n<a?a=n:a<i&&(a=i),{max:a,min:a,unitFactor:t.unitFactor}}function A(t,e,n){return isNaN(t[e])?n:+t[e]}function E(t,e){return .05*e*t/z}function O(t,e,n){return Math.abs((e-t)*z/n/.05)}function C(t,e,n,i){if(e.linkedProps){var r,o,s,a,u,c,f=e.linkedProps.split(","),p={};for(r=0;r<f.length;r++)(s=e[o=f[r]])&&(c=Math.abs((a=m(s.velocity)?s.velocity:(u=u||K(t))&&u.isTracking(o)?u.get(o):0)/A(s,"resistance",i)),p[o]=parseFloat(n(t,o))+E(a,c));return p}}function N(){(j=$())&&(I=j.parseEase,R=j.utils.toArray,U=j.utils.getUnit,M=j.core.getCache,D=j.utils.clamp,H=j.core.getStyleSaver,J=j.core.reverting||function(){},z=(V=I("power3"))(.05),q=j.core.PropTween,j.config({resistance:100,unitFactors:{time:1e3,totalTime:1e3,progress:1e3,totalProgress:1e3}}),S=j.config(),j.registerPlugin(_),B=1)}_.getByTarget=i,e()&&a.registerPlugin(_);var j,B,I,R,V,S,U,q,M,z,D,G,H,J,K=_.getByTarget,L=Array.isArray,Q=1e10,W={resistance:1,checkpoint:1,preventOvershoot:1,linkedProps:1,radius:1,duration:1},X={version:"3.12.3",name:"inertia",register:function t(e){j=e,N()},init:function t(e,n,i,r,o){B||N();var s=K(e);if("auto"===n){if(!s)return void console.warn("No inertia tracking on "+e+". InertiaPlugin.track(target) first.");n=s.getAll()}this.styles=H&&"object"==typeof e.style&&H(e),this.target=e,this.tween=i,G=n;var a,u,c,f,p,g,l,v,h,d=e._gsap,_=d.get,$=n.duration,w=y($),b=n.preventOvershoot||w&&0===$.overshoot,j=A(n,"resistance",S.resistance),I=m($)?$:function t(e,n,i,r,o,s){if(void 0===i&&(i=10),void 0===r&&(r=.2),void 0===o&&(o=1),void 0===s&&(s=0),"string"==typeof(a=e)&&(e=R(e)[0]),!e)return 0;var a,u,c,f,p,g,l,v,h,d,_,$=0,k=Q,x=n.inertia||n,w=M(e).get,b=A(x,"resistance",S.resistance);for(u in _=C(e,x,w,b),x)W[u]||(y(c=x[u])||((h=h||K(e))&&h.isTracking(u)?c=m(c)?{velocity:c}:{velocity:h.get(u)}:f=Math.abs((p=+c||0)/b)),y(c)&&(p=m(c.velocity)?c.velocity:(h=h||K(e))&&h.isTracking(u)?h.get(u):0,f=D(r,i,Math.abs(p/A(c,"resistance",b))),l=(g=parseFloat(w(e,u))||0)+E(p,f),"end"in c&&(c=F(c,_&&u in _?_:l,c.max,c.min,u,x.radius,p),s&&(G===n&&(G=x=P(n)),x[u]=T(c,x[u],"end"))),"max"in c&&l>+c.max+1e-10?(d=c.unitFactor||S.unitFactors[u]||1,(v=g>c.max&&c.min!==c.max||-15<p*d&&p*d<45?r+.1*(i-r):O(g,c.max,p))+o<k&&(k=v+o)):"min"in c&&l<c.min-1e-10&&(d=c.unitFactor||S.unitFactors[u]||1,(v=g<c.min&&c.min!==c.max||-45<p*d&&p*d<15?r+.1*(i-r):O(g,c.min,p))+o<k&&(k=v+o)),$<v&&($=v)),$<f&&($=f));return k<$&&($=k),i<$?i:$<r?r:$}(e,n,w&&$.max||10,w&&$.min||.2,w&&"overshoot"in $?+$.overshoot:b?0:1,!0);for(a in n=G,G=0,h=C(e,n,_,j),n)W[a]||(k(u=n[a])&&(u=u(r,e,o)),m(u)?p=u:y(u)&&!isNaN(u.velocity)?p=+u.velocity:s&&s.isTracking(a)?p=s.get(a):console.warn("ERROR: No velocity was defined for "+e+" property: "+a),g=E(p,I),v=0,c=_(e,a),f=U(c),c=parseFloat(c),y(u)&&(l=c+g,"end"in u&&(u=F(u,h&&a in h?h:l,u.max,u.min,a,n.radius,p)),"max"in u&&+u.max<l?b||u.preventOvershoot?g=u.max-c:v=u.max-c-g:"min"in u&&+u.min>l&&(b||u.preventOvershoot?g=u.min-c:v=u.min-c-g)),this._props.push(a),this.styles&&this.styles.save(a),this._pt=new q(this._pt,e,a,c,0,x,0,d.set(e,a,this)),this._pt.u=f||0,this._pt.c1=g,this._pt.c2=v);return i.duration(I),!0},render:function t(e,n){var i=n._pt;if((e=V(n.tween._time/n.tween._dur))||!J())for(;i;)i.set(i.t,i.p,w(i.s+i.c1*e+i.c2*e*e)+i.u,i.d,e),i=i._next;else n.styles.revert()}};"track,untrack,isTracking,getVelocity,getByTarget".split(",").forEach(function(t){return X[t]=_[t]}),$()&&j.registerPlugin(X),t.InertiaPlugin=X,t.VelocityTracker=_,t.default=X,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default});
